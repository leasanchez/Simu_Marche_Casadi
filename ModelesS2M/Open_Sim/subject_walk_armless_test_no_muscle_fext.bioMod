version 3

// File extracted from D:/DataFromE/FromLea/Modeles/subject_walk_armless.osim


// WARNING
// The original model has some constrained DOF, thus it can not be directly used for kinematics or dynamics analysis.
// If used in optimization, constraints should be added to the nlp to account for the reduced number of DOF
// Check end of file for possible constraints in the osim model


// SEGMENT DEFINITION

// Information about pelvis segment
    // Segment
    segment pelvis
        parent ground 
        RTinMatrix    0
        RT	0.0 0.0 0.0	xyz	0.0 0.0 0.0
        translations	xyz
        rotations	zxy
        rangesQ
               -5.0	5.0
               -1.0	2.0
               -3.0	3.0
               -1.57079633	1.57079633
               -1.57079633	1.57079633
               -1.57079633	1.57079633
        mass 17.2954396544328
        inertia
            0.160304    0.0    0.0
            0.0    0.160304    0.0
            0.0    0.0    0.081507
        com    -0.087995500000000004 0 0
        meshfile Meshfiles/r_pelvis.vtp
    endsegment

    // Markers
// Information about femur_r segment
    // Segment
    segment femur_r
        parent pelvis 
        RTinMatrix    0
        RT	0.0 0.0 0.0	xyz	-0.0700429 -0.0786209 0.0925079
        rotations	zxy
        rangesQ
               -0.52359878	2.0943951
               -0.87266463	0.52359878
               -0.6981317	0.6981317
        mass 10.500654020696301
        inertia
            0.13876    0.0    0.0
            0.0    0.0363739    0.0
            0.0    0.0    0.146325
        com    0 -0.16286 0
        meshfile Meshfiles/r_femur.vtp
    endsegment

    // Markers
// Information about tibia_r segment

	// Two segments are used for tibia_r in Opensim to express the joints child_offset
    // Segment
    segment tibia_r_offset
        parent femur_r 
        RTinMatrix    0
        RT	-1.64157 1.44618 1.5708	xyz	-0.00775022 -0.390826 -0.0026345
        translations	yz
        rotations	xzy
        rangesQ
               0.0	0.0015318419999999998
               0.0	0.006506736
               0.0	2.0944
               -0.0016782	0.0335354
               0.0	0.262788
    endsegment
    // Segment
    segment tibia_r
        parent tibia_r_offset 
        RTinMatrix    0
        RT	1.6954190940986915 -1.5000262983092933 1.5708027834666674	xyz	-0.0019888958332557006 0.0027449137218634365 0.009711362978458994
        mass 4.1855177480520798
        inertia
            0.0751316    0.0    0.0
            0.0    0.0076026    0.0
            0.0    0.0    0.076175
        com    0 -0.21451799999999999 0
        meshfile Meshfiles/r_tibia.vtp
    endsegment

    // Markers
// Information about patella_r segment
    // Segment
    segment patella_r
        parent femur_r 
        RTinMatrix    0
        RT	0.0 0.0 0.0	xyz	-0.00775022 -0.390826 -0.0026345
        translations	xy
        rotations	z
        rangesQ
               -0.0217466	0.0501992
               -0.0390864	-0.0103464
               -1.78634	0.00113686
        mass 0.0973139932251086
        inertia
            2.97416e-06    0.0    0.0
            0.0    1.35858e-05    0.0
            0.0    0.0    1.35858e-05
        com    0.0017244000000000001 0.0252912 0
        meshfile Meshfiles/r_patella.vtp
    endsegment

    // Markers
// Information about talus_r segment

	// Two segments are used for talus_r in Opensim to express the joints child_offset
    // Segment
    segment talus_r_offset
        parent tibia_r 
        RTinMatrix    0
        RT	0.175895 -0.105208 0.0186622	xyz	-0.01149 -0.4596 0.0
        rotations	z
        rangesQ
               -0.0217466	0.0501992
               -0.0390864	-0.0103464
               -1.78634	0.00113686
	externalforceindex 0
    endsegment
    // Segment
    segment talus_r
        parent talus_r_offset 
        RTinMatrix    0
        RT	-0.1749123564482117 0.106844349393498 -4.150603159152239e-08	xyz	-0.0 -0.0 -0.0
        mass 0.11289326360221499
        inertia
            0.00280824    0.0    0.0
            0.0    0.00214191    0.0
            0.0    0.0    0.00214191
        com    0 0 0
        meshfile Meshfiles/r_talus.vtp
    endsegment

    // Markers
// Information about calcn_r segment

	// Two segments are used for calcn_r in Opensim to express the joints child_offset
    // Segment
    segment calcn_r_offset
        parent talus_r 
        RTinMatrix    0
        RT	-1.76819 0.906223 1.8196	xyz	-0.0557517 -0.0696689 0.0118604
        rangesQ
    endsegment
    // Segment
    segment calcn_r
        parent calcn_r_offset 
        RTinMatrix    0
        RT	-2.492149221039226 -1.4183416269257698 3.1415876222346735	xyz	-0.0 -0.0 -0.0
        mass 1.4111657950276699
        inertia
            0.00393153    0.0    0.0
            0.0    0.00668762    0.0
            0.0    0.0    0.00668762
        com    0.114316 0.0498228 0
        meshfile Meshfiles/r_foot.vtp
    endsegment

    // Markers
// Information about toes_r segment

	// Two segments are used for toes_r in Opensim to express the joints child_offset
    // Segment
    segment toes_r_offset
        parent calcn_r 
        RTinMatrix    0
        RT	-3.14159 0.619901 0.0	xyz	0.204396 -0.00332152 0.00161733
        rangesQ
    endsegment
    // Segment
    segment toes_r
        parent toes_r_offset 
        RTinMatrix    0
        RT	3.141589393395043 0.6199009999974872 1.8940250840653746e-06	xyz	-0.0 -0.0 -0.0
        mass 0.24452680896239601
        inertia
            0.000280824    0.0    0.0
            0.0    0.000361749    0.0
            0.0    0.0    0.000361749
        com    0.039553199999999997 0.0099645700000000007 -0.026206699999999999
        meshfile Meshfiles/r_bofoot.vtp
    endsegment

    // Markers
// Information about femur_l segment
    // Segment
    segment femur_l
        parent pelvis 
        RTinMatrix    0
        RT	0.0 0.0 0.0	xyz	-0.0700429 -0.0786209 -0.0925079
        rotations	zxy
        rangesQ
               -0.52359878	2.0943951
               0.87266463	-0.52359878
               0.6981317	-0.6981317
        mass 10.500654020696301
        inertia
            0.13876    0.0    0.0
            0.0    0.0363739    0.0
            0.0    0.0    0.146325
        com    0 -0.16286 0
        meshfile Meshfiles/l_femur.vtp
    endsegment

    // Markers
// Information about tibia_l segment

	// Two segments are used for tibia_l in Opensim to express the joints child_offset
    // Segment
    segment tibia_l_offset
        parent femur_l 
        RTinMatrix    0
        RT	1.64157 -1.44618 1.5708	xyz	-0.00775022 -0.390826 0.0026345
        translations	yz
        rotations	xzy
        rangesQ
               0.0	0.0015318419999999998
               -0.006506736	0.0
               0.0	2.0944
               -0.0016782	0.0335354
               -0.262788	0.0
    endsegment
    // Segment
    segment tibia_l
        parent tibia_l_offset 
        RTinMatrix    0
        RT	-1.6954190940986915 1.5000262983092933 1.5708027834666674	xyz	-0.0019888958332557006 0.0027449137218634365 -0.009711362978458994
        mass 4.1855177480520798
        inertia
            0.0751316    0.0    0.0
            0.0    0.0076026    0.0
            0.0    0.0    0.076175
        com    0 -0.21451799999999999 0
        meshfile Meshfiles/l_tibia.vtp
    endsegment

    // Markers
// Information about patella_l segment
    // Segment
    segment patella_l
        parent femur_l 
        RTinMatrix    0
        RT	0.0 0.0 0.0	xyz	-0.00775022 -0.390826 0.0026345
        translations	xy
        rotations	z
        rangesQ
               -0.0217466	0.0501992
               -0.0390864	-0.0103464
               -1.78634	0.00113686
        mass 0.0973139932251086
        inertia
            2.97416e-06    0.0    0.0
            0.0    1.35858e-05    0.0
            0.0    0.0    1.35858e-05
        com    0.0017244000000000001 0.0252912 0
        meshfile Meshfiles/l_patella.vtp
    endsegment

    // Markers
// Information about talus_l segment

	// Two segments are used for talus_l in Opensim to express the joints child_offset
    // Segment
    segment talus_l_offset
        parent tibia_l 
        RTinMatrix    0
        RT	-0.175895 0.105208 0.0186622	xyz	-0.01149 -0.4596 0.0
        rotations	z
        rangesQ
               -0.0217466	0.0501992
               -0.0390864	-0.0103464
               -1.78634	0.00113686
	externalforceindex 1
    endsegment
    // Segment
    segment talus_l
        parent talus_l_offset 
        RTinMatrix    0
        RT	0.1749123564482117 -0.106844349393498 -4.150603159152239e-08	xyz	-0.0 -0.0 -0.0
        mass 0.11289326360221499
        inertia
            0.00280824    0.0    0.0
            0.0    0.00214191    0.0
            0.0    0.0    0.00214191
        com    0 0 0
        meshfile Meshfiles/l_talus.vtp
    endsegment

    // Markers
// Information about calcn_l segment

	// Two segments are used for calcn_l in Opensim to express the joints child_offset
    // Segment
    segment calcn_l_offset
        parent talus_l 
        RTinMatrix    0
        RT	1.76819 -0.906223 1.8196	xyz	-0.0557517 -0.0696689 -0.0118604
        rangesQ
    endsegment
    // Segment
    segment calcn_l
        parent calcn_l_offset 
        RTinMatrix    0
        RT	2.492149221039226 1.4183416269257698 3.1415876222346735	xyz	-0.0 -0.0 -0.0
        mass 1.4111657950276699
        inertia
            0.00393153    0.0    0.0
            0.0    0.00668762    0.0
            0.0    0.0    0.00668762
        com    0.114316 0.0498228 0
        meshfile Meshfiles/l_foot.vtp
    endsegment

    // Markers
// Information about toes_l segment

	// Two segments are used for toes_l in Opensim to express the joints child_offset
    // Segment
    segment toes_l_offset
        parent calcn_l 
        RTinMatrix    0
        RT	-3.14159 -0.619901 0.0	xyz	0.204396 -0.00332152 -0.00161733
        rangesQ
    endsegment
    // Segment
    segment toes_l
        parent toes_l_offset 
        RTinMatrix    0
        RT	3.141589393395043 -0.6199009999974872 -1.8940250840653746e-06	xyz	-0.0 -0.0 -0.0
        mass 0.24452680896239601
        inertia
            0.000280824    0.0    0.0
            0.0    0.000361749    0.0
            0.0    0.0    0.000361749
        com    0.039553199999999997 0.0099645700000000007 0.026206699999999999
        meshfile Meshfiles/l_bofoot.vtp
    endsegment

    // Markers
// Information about torso segment
    // Segment
    segment torso
        parent pelvis 
        RTinMatrix    0
        RT	0.0 0.0 0.0	xyz	-0.125334 0.0816359 0.0
        rangesQ
        mass 34.285424253511501
        inertia
            2.34257    0.0    0.0
            0.0    1.24925    0.0
            0.0    0.0    2.34257
        com    -0.014706800000000001 0.37689899999999998 -0.00230561
        meshfile Meshfiles/hat_spine.vtp
    endsegment

    // Markers
//COUPLED COORDINATES


//name: patellofemoral_knee_angle_r_con
	//independent q: knee_angle_r
	//dependent q: knee_angle_r_beta
	//coupling type: LinearFunction

//name: patellofemoral_knee_angle_l_con
	//independent q: knee_angle_l
	//dependent q: knee_angle_l_beta
	//coupling type: LinearFunction

//BREAKDOWN OF KINEMATIC CHAIN
//dof axis: ground_pelvis at translation1 on 1 0 0
//coordinates that serve as the independent variables: pelvis_tx
//Transform function: 
	//Function type: LinearFunction
	//Parameters: [['1', '0']]

//dof axis: ground_pelvis at translation2 on 0 1 0
//coordinates that serve as the independent variables: pelvis_ty
//Transform function: 
	//Function type: LinearFunction
	//Parameters: [['1', '0']]

//dof axis: ground_pelvis at translation3 on 0 0 1
//coordinates that serve as the independent variables: pelvis_tz
//Transform function: 
	//Function type: LinearFunction
	//Parameters: [['1', '0']]

//dof axis: ground_pelvis at rotation1 on 0 0 1
//coordinates that serve as the independent variables: pelvis_tilt
//Transform function: 
	//Function type: LinearFunction
	//Parameters: [['1', '0']]

//dof axis: ground_pelvis at rotation2 on 1 0 0
//coordinates that serve as the independent variables: pelvis_list
//Transform function: 
	//Function type: LinearFunction
	//Parameters: [['1', '0']]

//dof axis: ground_pelvis at rotation3 on 0 1 0
//coordinates that serve as the independent variables: pelvis_rotation
//Transform function: 
	//Function type: LinearFunction
	//Parameters: [['1', '0']]

//dof axis: hip_r at rotation1 on 0 0 1
//coordinates that serve as the independent variables: hip_flexion_r
//Transform function: 
	//Function type: LinearFunction
	//Parameters: [['1', '0']]

//dof axis: hip_r at rotation2 on 1 0 0
//coordinates that serve as the independent variables: hip_adduction_r
//Transform function: 
	//Function type: LinearFunction
	//Parameters: [['1', '0']]

//dof axis: hip_r at rotation3 on 0 1 0
//coordinates that serve as the independent variables: hip_rotation_r
//Transform function: 
	//Function type: LinearFunction
	//Parameters: [['1', '0']]

//dof axis: walker_knee_r at translation1 on 0 1 0
//coordinates that serve as the independent variables: knee_angle_r
//Transform function: 
	//Function type: MultiplierFunction
	//Parameters: ['0.95799999999999996', [' 0 0.174533 0.349066 0.523599 0.698132 0.872665 1.0472 1.22173 1.39626 1.5708 1.74533 1.91986 2.0944', ' 0 0.000479 0.000835 0.001086 0.001251 0.001346 0.001391 0.001403 0.0014 0.0014 0.001421 0.001481 0.001599']]

//dof axis: walker_knee_r at translation2 on 0 0 1
//coordinates that serve as the independent variables: knee_angle_r
//Transform function: 
	//Function type: MultiplierFunction
	//Parameters: ['0.95799999999999996', [' 0 0.174533 0.349066 0.523599 0.698132 0.872665 1.0472 1.22173 1.39626 1.5708 1.74533 1.91986 2.0944', ' 0 0.000988 0.001899 0.002734 0.003492 0.004173 0.004777 0.005305 0.005756 0.00613 0.006427 0.006648 0.006792']]

//dof axis: walker_knee_r at rotation1 on 1 0 0
//coordinates that serve as the independent variables: knee_angle_r
//Transform function: 
	//Function type: LinearFunction
	//Parameters: [['1', '0']]

//dof axis: walker_knee_r at rotation2 on 0 0 1
//coordinates that serve as the independent variables: knee_angle_r
//Transform function: 
	//Function type: SimmSpline
	//Parameters: [[' 0 0.174533 0.349066 0.523599 0.698132 0.872665 1.0472 1.22173 1.39626 1.5708 1.74533 1.91986 2.0944', ' 0 0.0126809 0.0226969 0.0296054 0.0332049 0.0335354 0.0308779 0.0257548 0.0189295 0.011407 0.00443314 -0.00050475 -0.0016782']]

//dof axis: walker_knee_r at rotation3 on 0 1 0
//coordinates that serve as the independent variables: knee_angle_r
//Transform function: 
	//Function type: SimmSpline
	//Parameters: [[' 0 0.174533 0.349066 0.523599 0.698132 0.872665 1.0472 1.22173 1.39626 1.5708 1.74533 1.91986 2.0944', ' 0 0.059461 0.109399 0.150618 0.18392 0.210107 0.229983 0.24435 0.254012 0.25977 0.262428 0.262788 0.261654']]

//dof axis: patellofemoral_r at translation1 on 1 0 0
//coordinates that serve as the independent variables: knee_angle_r_beta
//Transform function: 
	//Function type: MultiplierFunction
	//Parameters: ['0.95799999999999996', [' 0 0.174533 0.349066 0.523599 0.698132 0.872665 1.0472 1.22173 1.39626 1.5708 1.74533 1.91986 2.0944', ' 0.0524 0.0488 0.0437 0.0371 0.0296 0.0216 0.0136 0.0057 -0.0019 -0.0088 -0.0148 -0.0196 -0.0227']]

//dof axis: patellofemoral_r at translation2 on 0 1 0
//coordinates that serve as the independent variables: knee_angle_r_beta
//Transform function: 
	//Function type: MultiplierFunction
	//Parameters: ['0.95799999999999996', [' 0 0.174533 0.349066 0.523599 0.698132 0.872665 1.0472 1.22173 1.39626 1.5708 1.74533 1.91986 2.0944', ' -0.0108 -0.019 -0.0263 -0.0322 -0.0367 -0.0395 -0.0408 -0.0404 -0.0384 -0.0349 -0.0301 -0.0245 -0.0187']]

//dof axis: patellofemoral_r at rotation1 on 0 0 1
//coordinates that serve as the independent variables: knee_angle_r_beta
//Transform function: 
	//Function type: SimmSpline
	//Parameters: [[' 0 0.174533 0.349066 0.523599 0.698132 0.872665 1.0472 1.22173 1.39626 1.5708 1.74533 1.91986 2.0944', ' 0.00113686 -0.00629212 -0.105582 -0.253683 -0.414245 -0.579047 -0.747244 -0.91799 -1.09044 -1.26379 -1.43763 -1.61186 -1.78634']]

//dof axis: hip_l at rotation1 on 0 0 1
//coordinates that serve as the independent variables: hip_flexion_l
//Transform function: 
	//Function type: LinearFunction
	//Parameters: [['1', '0']]

//dof axis: hip_l at rotation2 on 1 0 0
//coordinates that serve as the independent variables: hip_adduction_l
//Transform function: 
	//Function type: LinearFunction
	//Parameters: [['-1', '0']]

//dof axis: hip_l at rotation3 on 0 1 0
//coordinates that serve as the independent variables: hip_rotation_l
//Transform function: 
	//Function type: LinearFunction
	//Parameters: [['-1', '0']]

//dof axis: walker_knee_l at translation1 on 0 1 0
//coordinates that serve as the independent variables: knee_angle_l
//Transform function: 
	//Function type: MultiplierFunction
	//Parameters: ['0.95799999999999996', [' 0 0.174533 0.349066 0.523599 0.698132 0.872665 1.0472 1.22173 1.39626 1.5708 1.74533 1.91986 2.0944', ' 0 0.000479 0.000835 0.001086 0.001251 0.001346 0.001391 0.001403 0.0014 0.0014 0.001421 0.001481 0.001599']]

//dof axis: walker_knee_l at translation2 on 0 0 1
//coordinates that serve as the independent variables: knee_angle_l
//Transform function: 
	//Function type: MultiplierFunction
	//Parameters: ['0.95799999999999996', [' 0 0.174533 0.349066 0.523599 0.698132 0.872665 1.0472 1.22173 1.39626 1.5708 1.74533 1.91986 2.0944', ' 0 -0.000988 -0.001899 -0.002734 -0.003492 -0.004173 -0.004777 -0.005305 -0.005756 -0.00613 -0.006427 -0.006648 -0.006792']]

//dof axis: walker_knee_l at rotation1 on -1 0 0
//coordinates that serve as the independent variables: knee_angle_l
//Transform function: 
	//Function type: LinearFunction
	//Parameters: [['1', '0']]

//dof axis: walker_knee_l at rotation2 on 0 0 1
//coordinates that serve as the independent variables: knee_angle_l
//Transform function: 
	//Function type: SimmSpline
	//Parameters: [[' 0 0.174533 0.349066 0.523599 0.698132 0.872665 1.0472 1.22173 1.39626 1.5708 1.74533 1.91986 2.0944', ' 0 0.0126809 0.0226969 0.0296054 0.0332049 0.0335354 0.0308779 0.0257548 0.0189295 0.011407 0.00443314 -0.00050475 -0.0016782']]

//dof axis: walker_knee_l at rotation3 on 0 1 0
//coordinates that serve as the independent variables: knee_angle_l
//Transform function: 
	//Function type: SimmSpline
	//Parameters: [[' 0 0.174533 0.349066 0.523599 0.698132 0.872665 1.0472 1.22173 1.39626 1.5708 1.74533 1.91986 2.0944', ' 0 -0.059461 -0.109399 -0.150618 -0.18392 -0.210107 -0.229983 -0.24435 -0.254012 -0.25977 -0.262428 -0.262788 -0.261654']]

//dof axis: patellofemoral_l at translation1 on 1 0 0
//coordinates that serve as the independent variables: knee_angle_l_beta
//Transform function: 
	//Function type: MultiplierFunction
	//Parameters: ['0.95799999999999996', [' 0 0.174533 0.349066 0.523599 0.698132 0.872665 1.0472 1.22173 1.39626 1.5708 1.74533 1.91986 2.0944', ' 0.0524 0.0488 0.0437 0.0371 0.0296 0.0216 0.0136 0.0057 -0.0019 -0.0088 -0.0148 -0.0196 -0.0227']]

//dof axis: patellofemoral_l at translation2 on 0 1 0
//coordinates that serve as the independent variables: knee_angle_l_beta
//Transform function: 
	//Function type: MultiplierFunction
	//Parameters: ['0.95799999999999996', [' 0 0.174533 0.349066 0.523599 0.698132 0.872665 1.0472 1.22173 1.39626 1.5708 1.74533 1.91986 2.0944', ' -0.0108 -0.019 -0.0263 -0.0322 -0.0367 -0.0395 -0.0408 -0.0404 -0.0384 -0.0349 -0.0301 -0.0245 -0.0187']]

//dof axis: patellofemoral_l at rotation1 on 0 0 1
//coordinates that serve as the independent variables: knee_angle_l_beta
//Transform function: 
	//Function type: SimmSpline
	//Parameters: [[' 0 0.174533 0.349066 0.523599 0.698132 0.872665 1.0472 1.22173 1.39626 1.5708 1.74533 1.91986 2.0944', ' 0.00113686 -0.00629212 -0.105582 -0.253683 -0.414245 -0.579047 -0.747244 -0.91799 -1.09044 -1.26379 -1.43763 -1.61186 -1.78634']]

// MUSCLE DEFINIION
